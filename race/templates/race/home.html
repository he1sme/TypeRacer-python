{% extends "typingtest/base.html" %}
{% block title %}–ö–ª–∞–≤–æ–≥–æ–Ω–∫–∏{% endblock %}

{% block content %}
<div class="grid gap-6">
  <div class="p-6 rounded-2xl bg-slate-900 border border-slate-800">
    <div class="flex flex-wrap items-start justify-between gap-4">
      <div>
        <div class="text-2xl font-semibold">–ö–ª–∞–≤–æ–≥–æ–Ω–∫–∏</div>
        <div class="mt-1 text-slate-400 text-sm">
          –°–æ–∑–¥–∞–π –∫–æ–º–Ω–∞—Ç—É –∏ –ø—Ä–∏–≥–ª–∞—Å–∏ –¥—Ä—É–∑–µ–π. –ì–æ–Ω–∫–∞ —Å—Ç–∞—Ä—Ç—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∫–æ–≥–¥–∞ –≤—Å–µ –±—É–¥—É—Ç –≥–æ—Ç–æ–≤—ã (–º–∏–Ω–∏–º—É–º 2 –∏–≥—Ä–æ–∫–∞).
        </div>
      </div>
      <div class="text-sm text-slate-400">
        –î–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞: <span class="text-slate-200 font-medium">60 —Å–ª–æ–≤</span>
      </div>
    </div>

    <form method="post" class="mt-5 flex flex-wrap items-center gap-3">
      {% csrf_token %}
      {% if participant.is_guest %}
        <input name="guest_name" value="{{ participant.name }}" maxlength="20"
               class="p-2 rounded-xl bg-slate-950 border border-slate-800 outline-none focus:border-slate-500"
               placeholder="–ù–∏–∫ (–≥–æ—Å—Ç—å)">
      {% endif %}
      <button class="px-4 py-2 rounded-xl bg-white text-slate-900 font-medium hover:opacity-90">
        –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É
      </button>
    </form>
  </div>

  <div class="p-6 rounded-2xl bg-slate-900 border border-slate-800">
    <div class="text-lg font-semibold">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã</div>
    <div class="mt-4 grid gap-3">
      {% for r in rooms %}
        <a href="{% url 'race_room' r.code %}"
           class="p-4 rounded-xl bg-slate-950 border border-slate-800 hover:border-slate-600 transition">
          <div class="flex flex-wrap items-center justify-between gap-2">
            <div class="font-medium">–ö–æ–º–Ω–∞—Ç–∞ {{ r.code }}</div>
            <div class="text-sm text-slate-400">
              {% if r.passage and r.passage.work %}{{ r.passage.work.title }}{% else %}–¢–µ–∫—Å—Ç{% endif %}
            </div>
          </div>
          <div class="mt-1 text-sm text-slate-500">
            {% if r.passage and r.passage.work %}{{ r.passage.work.author }}{% endif %}
          </div>
        </a>
      {% empty %}
        <div class="text-slate-400 text-sm">–ü–æ–∫–∞ –Ω–µ—Ç –∫–æ–º–Ω–∞—Ç. –°–æ–∑–¥–∞–π –ø–µ—Ä–≤—É—é üôÇ</div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
